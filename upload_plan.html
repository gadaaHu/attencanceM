{% extends "base.html" %}

{% block title %}Upload Annual Plan - Membership System{% endblock %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">
        <i class="fas fa-upload"></i> Upload Annual Plan
    </h1>
    <a href="{{ url_for('view_plans') }}" class="btn btn-secondary">Back to Plans</a>
</div>

<div class="card">
    <div class="card-body">
        <form method="post" action="" enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="title" class="form-label">Plan Title *</label>
                        <input type="text" class="form-control" id="title" name="title" required placeholder="e.g., Annual Strategy Plan 2024">
                    </div>
                    
                    <div class="mb-3">
                        <label for="year" class="form-label">Year *</label>
                        <select class="form-select" id="year" name="year" required>
                            {% for year in range(current_year-2, current_year+3) %}
                                <option value="{{ year }}" {% if year == current_year %}selected{% endif %}>{{ year }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="plan_type" class="form-label">Plan Type</label>
                        <select class="form-select" id="plan_type" name="plan_type">
                            <option value="annual">Annual Plan</option>
                            <option value="quarterly">Quarterly Plan</option>
                            <option value="monthly">Monthly Plan</option>
                            <option value="strategic">Strategic Plan</option>
                            <option value="operational">Operational Plan</option>
                        </select>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea class="form-control" id="description" name="description" rows="4" placeholder="Brief description of the plan"></textarea>
                    </div>
                    
                    <div class="mb-3">
                        <label for="plan_file" class="form-label">Plan File *</label>
                        <input type="file" class="form-control" id="plan_file" name="plan_file" accept=".pdf,.doc,.docx,.xlsx,.xls" required>
                        <div class="form-text">
                            Supported formats: PDF, DOC, DOCX, XLSX, XLS (Max: 16MB)
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center">
                <button type="submit" class="btn btn-primary btn-lg">
                    <i class="fas fa-upload"></i> Upload Plan
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}